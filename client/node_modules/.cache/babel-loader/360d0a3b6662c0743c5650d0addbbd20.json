{"ast":null,"code":"import _objectSpread from\"/Users/rachelmcgrath/Desktop/projects/product-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import*as actionTypes from\"../actions/actionTypes\";var initState={token:localStorage.getItem(\"token\"),isAuth:null,showAuthModal:false,isLoading:false,user:null,isLogin:true};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actionTypes.USER_LOADING:return _objectSpread(_objectSpread({},state),{},{isLoading:true});case actionTypes.TOGGLE_AUTH_MODAL:return _objectSpread(_objectSpread({},state),{},{showAuthModal:!state.showAuthModal});case actionTypes.USER_LOADED:return _objectSpread(_objectSpread({},state),{},{isLoading:false,isAuth:true,user:action.payload});case actionTypes.LOGIN_SUCCESS:case actionTypes.REGISTER_SUCCESS:localStorage.setItem(\"token\",action.payload.token);return _objectSpread(_objectSpread(_objectSpread({},state),action.payload),{},{isAuth:true,isLoading:false,showAuthModal:false});case actionTypes.AUTH_ERROR:case actionTypes.LOGIN_FAIL:case actionTypes.LOGOUT_SUCCESS:case actionTypes.REGISTER_FAIL:localStorage.removeItem(\"token\");return _objectSpread(_objectSpread({},state),{},{token:null,user:null,isAuth:null,isLoading:false});case actionTypes.CHANGE_AUTH_MODE:return _objectSpread(_objectSpread({},state),{},{isLogin:!state.isLogin});default:return state;}}","map":{"version":3,"sources":["/Users/rachelmcgrath/Desktop/projects/product-shop/client/src/store/Reducers/authReducer.js"],"names":["actionTypes","initState","token","localStorage","getItem","isAuth","showAuthModal","isLoading","user","isLogin","state","action","type","USER_LOADING","TOGGLE_AUTH_MODAL","USER_LOADED","payload","LOGIN_SUCCESS","REGISTER_SUCCESS","setItem","AUTH_ERROR","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_FAIL","removeItem","CHANGE_AUTH_MODE"],"mappings":"+KAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,wBAA7B,CAEA,GAAMC,CAAAA,SAAS,CAAG,CACdC,KAAK,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADO,CAEdC,MAAM,CAAE,IAFM,CAGdC,aAAa,CAAE,KAHD,CAKdC,SAAS,CAAE,KALG,CAMdC,IAAI,CAAE,IANQ,CAOdC,OAAO,CAAE,IAPK,CAAlB,CAUA,cAAe,WAAqC,IAA3BC,CAAAA,KAA2B,2DAAnBT,SAAmB,IAARU,CAAAA,MAAQ,2CAChD,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKZ,CAAAA,WAAW,CAACa,YAAjB,CACI,sCACOH,KADP,MAEIH,SAAS,CAAE,IAFf,GAIJ,IAAKP,CAAAA,WAAW,CAACc,iBAAjB,CACI,sCACOJ,KADP,MAEIJ,aAAa,CAAE,CAACI,KAAK,CAACJ,aAF1B,GAIJ,IAAKN,CAAAA,WAAW,CAACe,WAAjB,CACI,sCACOL,KADP,MAEIH,SAAS,CAAE,KAFf,CAGIF,MAAM,CAAE,IAHZ,CAIIG,IAAI,CAAEG,MAAM,CAACK,OAJjB,GAOJ,IAAKhB,CAAAA,WAAW,CAACiB,aAAjB,CACA,IAAKjB,CAAAA,WAAW,CAACkB,gBAAjB,CACIf,YAAY,CAACgB,OAAb,CAAqB,OAArB,CAA8BR,MAAM,CAACK,OAAP,CAAed,KAA7C,EACA,oDACOQ,KADP,EAEOC,MAAM,CAACK,OAFd,MAGIX,MAAM,CAAE,IAHZ,CAIIE,SAAS,CAAE,KAJf,CAKID,aAAa,CAAE,KALnB,GAOJ,IAAKN,CAAAA,WAAW,CAACoB,UAAjB,CACA,IAAKpB,CAAAA,WAAW,CAACqB,UAAjB,CACA,IAAKrB,CAAAA,WAAW,CAACsB,cAAjB,CACA,IAAKtB,CAAAA,WAAW,CAACuB,aAAjB,CACIpB,YAAY,CAACqB,UAAb,CAAwB,OAAxB,EACA,sCACOd,KADP,MAEIR,KAAK,CAAE,IAFX,CAGIM,IAAI,CAAE,IAHV,CAIIH,MAAM,CAAE,IAJZ,CAKIE,SAAS,CAAE,KALf,GAOJ,IAAKP,CAAAA,WAAW,CAACyB,gBAAjB,CACI,sCACOf,KADP,MAEID,OAAO,CAAE,CAACC,KAAK,CAACD,OAFpB,GAIJ,QACI,MAAOC,CAAAA,KAAP,CA/CR,CAiDH","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\n\nconst initState = {\n    token: localStorage.getItem(\"token\"),\n    isAuth: null,\n    showAuthModal: false,\n\n    isLoading: false,\n    user: null,\n    isLogin: true,\n};\n\nexport default function (state = initState, action) {\n    switch (action.type) {\n        case actionTypes.USER_LOADING:\n            return {\n                ...state,\n                isLoading: true,\n            };\n        case actionTypes.TOGGLE_AUTH_MODAL:\n            return {\n                ...state,\n                showAuthModal: !state.showAuthModal,\n            };\n        case actionTypes.USER_LOADED:\n            return {\n                ...state,\n                isLoading: false,\n                isAuth: true,\n                user: action.payload,\n            };\n\n        case actionTypes.LOGIN_SUCCESS:\n        case actionTypes.REGISTER_SUCCESS:\n            localStorage.setItem(\"token\", action.payload.token);\n            return {\n                ...state,\n                ...action.payload,\n                isAuth: true,\n                isLoading: false,\n                showAuthModal: false,\n            };\n        case actionTypes.AUTH_ERROR:\n        case actionTypes.LOGIN_FAIL:\n        case actionTypes.LOGOUT_SUCCESS:\n        case actionTypes.REGISTER_FAIL:\n            localStorage.removeItem(\"token\");\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuth: null,\n                isLoading: false,\n            };\n        case actionTypes.CHANGE_AUTH_MODE:\n            return {\n                ...state,\n                isLogin: !state.isLogin,\n            };\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}