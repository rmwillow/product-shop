{"ast":null,"code":"import * as actionTypes from \"../actions/actionTypes\";\nconst initState = {\n  token: localStorage.getItem(\"token\"),\n  isAuth: null,\n  showAuthModal: false,\n  isLoading: false,\n  user: null,\n  isLogin: true\n};\nexport default function (state = initState, action) {\n  switch (action.type) {\n    case actionTypes.USER_LOADING:\n      return { ...state,\n        isLoading: true\n      };\n\n    case actionTypes.TOGGLE_AUTH_MODAL:\n      return { ...state,\n        showAuthModal: !state.showAuthModal\n      };\n\n    case actionTypes.USER_LOADED:\n      return { ...state,\n        isLoading: false,\n        isAuth: true,\n        user: action.payload\n      };\n\n    case actionTypes.LOGIN_SUCCESS:\n    case actionTypes.REGISTER_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      return { ...state,\n        ...action.payload,\n        isAuth: true,\n        isLoading: false,\n        showAuthModal: false\n      };\n\n    case actionTypes.AUTH_ERROR:\n    case actionTypes.LOGIN_FAIL:\n    case actionTypes.LOGOUT_SUCCESS:\n    case actionTypes.REGISTER_FAIL:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        user: null,\n        isAuth: null,\n        isLoading: false\n      };\n\n    case actionTypes.CHANGE_AUTH_MODE:\n      return { ...state,\n        isLogin: !state.isLogin\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/rachelmcgrath/Desktop/projects/product-shop/client/src/store/Reducers/authReducer.js"],"names":["actionTypes","initState","token","localStorage","getItem","isAuth","showAuthModal","isLoading","user","isLogin","state","action","type","USER_LOADING","TOGGLE_AUTH_MODAL","USER_LOADED","payload","LOGIN_SUCCESS","REGISTER_SUCCESS","setItem","AUTH_ERROR","LOGIN_FAIL","LOGOUT_SUCCESS","REGISTER_FAIL","removeItem","CHANGE_AUTH_MODE"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,wBAA7B;AAEA,MAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADO;AAEdC,EAAAA,MAAM,EAAE,IAFM;AAGdC,EAAAA,aAAa,EAAE,KAHD;AAKdC,EAAAA,SAAS,EAAE,KALG;AAMdC,EAAAA,IAAI,EAAE,IANQ;AAOdC,EAAAA,OAAO,EAAE;AAPK,CAAlB;AAUA,eAAe,UAAUC,KAAK,GAAGT,SAAlB,EAA6BU,MAA7B,EAAqC;AAChD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKZ,WAAW,CAACa,YAAjB;AACI,aAAO,EACH,GAAGH,KADA;AAEHH,QAAAA,SAAS,EAAE;AAFR,OAAP;;AAIJ,SAAKP,WAAW,CAACc,iBAAjB;AACI,aAAO,EACH,GAAGJ,KADA;AAEHJ,QAAAA,aAAa,EAAE,CAACI,KAAK,CAACJ;AAFnB,OAAP;;AAIJ,SAAKN,WAAW,CAACe,WAAjB;AACI,aAAO,EACH,GAAGL,KADA;AAEHH,QAAAA,SAAS,EAAE,KAFR;AAGHF,QAAAA,MAAM,EAAE,IAHL;AAIHG,QAAAA,IAAI,EAAEG,MAAM,CAACK;AAJV,OAAP;;AAOJ,SAAKhB,WAAW,CAACiB,aAAjB;AACA,SAAKjB,WAAW,CAACkB,gBAAjB;AACIf,MAAAA,YAAY,CAACgB,OAAb,CAAqB,OAArB,EAA8BR,MAAM,CAACK,OAAP,CAAed,KAA7C;AACA,aAAO,EACH,GAAGQ,KADA;AAEH,WAAGC,MAAM,CAACK,OAFP;AAGHX,QAAAA,MAAM,EAAE,IAHL;AAIHE,QAAAA,SAAS,EAAE,KAJR;AAKHD,QAAAA,aAAa,EAAE;AALZ,OAAP;;AAOJ,SAAKN,WAAW,CAACoB,UAAjB;AACA,SAAKpB,WAAW,CAACqB,UAAjB;AACA,SAAKrB,WAAW,CAACsB,cAAjB;AACA,SAAKtB,WAAW,CAACuB,aAAjB;AACIpB,MAAAA,YAAY,CAACqB,UAAb,CAAwB,OAAxB;AACA,aAAO,EACH,GAAGd,KADA;AAEHR,QAAAA,KAAK,EAAE,IAFJ;AAGHM,QAAAA,IAAI,EAAE,IAHH;AAIHH,QAAAA,MAAM,EAAE,IAJL;AAKHE,QAAAA,SAAS,EAAE;AALR,OAAP;;AAOJ,SAAKP,WAAW,CAACyB,gBAAjB;AACI,aAAO,EACH,GAAGf,KADA;AAEHD,QAAAA,OAAO,EAAE,CAACC,KAAK,CAACD;AAFb,OAAP;;AAIJ;AACI,aAAOC,KAAP;AA/CR;AAiDH","sourcesContent":["import * as actionTypes from \"../actions/actionTypes\";\n\nconst initState = {\n    token: localStorage.getItem(\"token\"),\n    isAuth: null,\n    showAuthModal: false,\n\n    isLoading: false,\n    user: null,\n    isLogin: true,\n};\n\nexport default function (state = initState, action) {\n    switch (action.type) {\n        case actionTypes.USER_LOADING:\n            return {\n                ...state,\n                isLoading: true,\n            };\n        case actionTypes.TOGGLE_AUTH_MODAL:\n            return {\n                ...state,\n                showAuthModal: !state.showAuthModal,\n            };\n        case actionTypes.USER_LOADED:\n            return {\n                ...state,\n                isLoading: false,\n                isAuth: true,\n                user: action.payload,\n            };\n\n        case actionTypes.LOGIN_SUCCESS:\n        case actionTypes.REGISTER_SUCCESS:\n            localStorage.setItem(\"token\", action.payload.token);\n            return {\n                ...state,\n                ...action.payload,\n                isAuth: true,\n                isLoading: false,\n                showAuthModal: false,\n            };\n        case actionTypes.AUTH_ERROR:\n        case actionTypes.LOGIN_FAIL:\n        case actionTypes.LOGOUT_SUCCESS:\n        case actionTypes.REGISTER_FAIL:\n            localStorage.removeItem(\"token\");\n            return {\n                ...state,\n                token: null,\n                user: null,\n                isAuth: null,\n                isLoading: false,\n            };\n        case actionTypes.CHANGE_AUTH_MODE:\n            return {\n                ...state,\n                isLogin: !state.isLogin,\n            };\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}