{"ast":null,"code":"var _jsxFileName = \"/Users/rachelmcgrath/Desktop/projects/product-shop/client/src/Pages/Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Row, Col } from \"react-bootstrap\";\nimport * as productAction from \"../Actions/productAction\";\nimport Product from \"../Components/Product/Product\";\nimport Filter from \"../Components/Filter/Filter\";\nimport ErrorMessage from \"../Components/Message/errorMessage\";\n\nconst Home = () => {\n  const [sort, setSort] = useState([]);\n  const [category, setCategory] = useState(\"\");\n  const [priceRange, setPriceRange] = useState(\"\");\n  const [initialLoading, setInitialLoading] = useState(true);\n  const [ltORgt, setLtORgt] = useState(\"\");\n  const productData = useSelector(state => state.productList);\n  const {\n    loading,\n    products,\n    count,\n    error,\n    success\n  } = productData;\n  const queryParams = new URLSearchParams(window.location.search);\n  const searchProductKey = queryParams.get(\"search\") ? queryParams.get(\"search\").trim() : \"\";\n  const dispatch = useDispatch();\n  useEffect(() => {\n    fetchProductList();\n  }, [dispatch, searchProductKey, sort, category]);\n\n  const fetchProductList = () => {\n    dispatch(productAction.listProducts(searchProductKey, sort, category, priceRange, initialLoading, ltORgt));\n  };\n\n  useEffect(() => {\n    if (success && initialLoading) {\n      setInitialLoading(false);\n    }\n  }, [dispatch, success]);\n\n  const handleSort = value => {\n    sort.includes(value) ? setSort(sort.filter(s => s !== value)) : setSort(sort => sort.concat(value));\n  };\n\n  const handlePriceRange = () => {\n    if (priceRange === \"\" || ltORgt === \"\") {\n      return;\n    }\n\n    fetchProductList();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, searchProductKey ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"btn btn-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Go Back\"), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Search Products for \", searchProductKey, \"(\", count, \")\")) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"clearfix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"float-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Latest Products(\", count, \")\")), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Filter, {\n    sort: sort,\n    handleSort: handleSort,\n    setCategory: setCategory,\n    setPriceRange: setPriceRange,\n    setLtORgt: setLtORgt,\n    ltORgt: ltORgt,\n    handlePriceRange: handlePriceRange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }))), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Loading...\") : // <Loader />\n  error ? /*#__PURE__*/React.createElement(ErrorMessage, {\n    message: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, products.length === 0 && /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 35\n    }\n  }, \"No Products\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(Col, {\n    key: product._id,\n    sm: 12,\n    md: 6,\n    lg: 4,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Product, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/rachelmcgrath/Desktop/projects/product-shop/client/src/Pages/Home.js"],"names":["React","useEffect","useState","Link","useDispatch","useSelector","Row","Col","productAction","Product","Filter","ErrorMessage","Home","sort","setSort","category","setCategory","priceRange","setPriceRange","initialLoading","setInitialLoading","ltORgt","setLtORgt","productData","state","productList","loading","products","count","error","success","queryParams","URLSearchParams","window","location","search","searchProductKey","get","trim","dispatch","fetchProductList","listProducts","handleSort","value","includes","filter","s","concat","handlePriceRange","length","map","product","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Row, Col } from \"react-bootstrap\";\nimport * as productAction from \"../Actions/productAction\";\nimport Product from \"../Components/Product/Product\";\nimport Filter from \"../Components/Filter/Filter\";\nimport ErrorMessage from \"../Components/Message/errorMessage\";\n\nconst Home = () => {\n  const [sort, setSort] = useState([]);\n  const [category, setCategory] = useState(\"\");\n  const [priceRange, setPriceRange] = useState(\"\");\n  const [initialLoading, setInitialLoading] = useState(true);\n  const [ltORgt, setLtORgt] = useState(\"\");\n\n  const productData = useSelector((state) => state.productList);\n\n  const { loading, products, count, error, success } = productData;\n\n  const queryParams = new URLSearchParams(window.location.search);\n  const searchProductKey = queryParams.get(\"search\")\n    ? queryParams.get(\"search\").trim()\n    : \"\";\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    fetchProductList();\n  }, [dispatch, searchProductKey, sort, category]);\n\n  const fetchProductList = () => {\n    dispatch(\n      productAction.listProducts(\n        searchProductKey,\n        sort,\n        category,\n        priceRange,\n        initialLoading,\n        ltORgt\n      )\n    );\n  };\n\n  useEffect(() => {\n    if (success && initialLoading) {\n      setInitialLoading(false);\n    }\n  }, [dispatch, success]);\n\n  const handleSort = (value) => {\n    sort.includes(value)\n      ? setSort(sort.filter((s) => s !== value))\n      : setSort((sort) => sort.concat(value));\n  };\n\n  const handlePriceRange = () => {\n    if (priceRange === \"\" || ltORgt === \"\") {\n      return;\n    }\n    fetchProductList();\n  };\n\n  return (\n    <>\n      {searchProductKey ? (\n        <>\n          <Link to=\"/\" className=\"btn btn-light\">\n            Go Back\n          </Link>\n          <h1>\n            Search Products for {searchProductKey}({count})\n          </h1>\n        </>\n      ) : (\n        <div class=\"clearfix\">\n          <span class=\"float-left\">\n            <h1>Latest Products({count})</h1>\n          </span>\n          <span class=\"float-right\">\n            {\" \"}\n            <Filter\n              sort={sort}\n              handleSort={handleSort}\n              setCategory={setCategory}\n              setPriceRange={setPriceRange}\n              setLtORgt={setLtORgt}\n              ltORgt={ltORgt}\n              handlePriceRange={handlePriceRange}\n            />\n          </span>\n        </div>\n      )}\n\n      {loading ? (\n        <p>Loading...</p>\n      ) : // <Loader />\n      error ? (\n        <ErrorMessage message={error} />\n      ) : (\n        <>\n        {products.length === 0 && <h4>No Products</h4>}\n          <Row>\n            {products.map((product) => (\n              <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\n                <Product product={product} />\n              </Col>\n            ))}\n          </Row>\n        </>\n      )}\n    </>\n  );\n};\nexport default Home;"]},"metadata":{},"sourceType":"module"}