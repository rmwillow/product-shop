{"ast":null,"code":"import _slicedToArray from\"/Users/rachelmcgrath/Desktop/projects/product-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/rachelmcgrath/Desktop/projects/product-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"label\",\"type\",\"variant\"];import React from\"react\";import{useStyles}from\"../Auth/FormStyles\";import{TextField,Button,Typography}from\"@material-ui/core\";import{connect}from\"react-redux\";import*as actions from\"../../store/actions/authActions\";import{withRouter}from\"react-router-dom\";import*as yup from\"yup\";import{Formik,Form,useField}from\"formik\";var CustomField=function CustomField(_ref){var label=_ref.label,type=_ref.type,variant=_ref.variant,props=_objectWithoutProperties(_ref,_excluded);var _useField=useField(props),_useField2=_slicedToArray(_useField,2),field=_useField2[0],meta=_useField2[1];var errorText=meta.error&&meta.touched?meta.error:\"\";var classes=useStyles();return/*#__PURE__*/React.createElement(TextField,Object.assign({className:classes.root,variant:variant,label:label},field,{helperText:errorText,error:!!errorText,type:type}));};var validationSchema=yup.object({email:yup.string().email(\"Enter a valid Email\").required(),password:yup.string().min(3,\"Too short :(\").required()});function LoginForm(props){var classes=useStyles();var handleSubmit=function handleSubmit(email,password){console.log(props);var user={email:email,password:password};//props.history.push(\"/products\");\nprops.login(user);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:classes.welcome},\"Welcome\"),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",marginBottom:\"1.3rem\"}},/*#__PURE__*/React.createElement(Typography,{variant:\"p\"},\"Log in now to shop anything you want\")),/*#__PURE__*/React.createElement(Formik,{initialValues:{email:\"\",password:\"\"},onSubmit:function onSubmit(data,_ref2){var setSubmitting=_ref2.setSubmitting;setSubmitting(true);//! make async call here!!!!\nhandleSubmit(data.email,data.password);setSubmitting(false);},validationSchema:validationSchema},function(_ref3){var values=_ref3.values,errors=_ref3.errors,isSubmitting=_ref3.isSubmitting;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CustomField,{label:\"Email\",variant:\"outlined\",name:\"email\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CustomField,{label:\"Password\",type:\"password\",variant:\"outlined\",name:\"password\"})),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",width:\"100%\",marginBottom:\"1rem\"}},/*#__PURE__*/React.createElement(Button,{disabled:isSubmitting,style:{color:\"white\",backgroundColor:\"black\",width:\"100%\"},type:\"submit\"},\"Log in\")));}));}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(user){return dispatch(actions.login(user));},logOut:function logOut(){return dispatch(actions.logOut());}};};export default withRouter(connect(null,mapDispatchToProps)(LoginForm));","map":{"version":3,"sources":["/Users/rachelmcgrath/Desktop/projects/product-shop/client/src/components/Auth/LoginForm.js"],"names":["React","useStyles","TextField","Button","Typography","connect","actions","withRouter","yup","Formik","Form","useField","CustomField","label","type","variant","props","field","meta","errorText","error","touched","classes","root","validationSchema","object","email","string","required","password","min","LoginForm","handleSubmit","console","log","user","login","welcome","textAlign","marginBottom","data","setSubmitting","values","errors","isSubmitting","width","color","backgroundColor","mapDispatchToProps","dispatch","logOut"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useStyles } from \"../Auth/FormStyles\";\nimport { TextField, Button, Typography } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../store/actions/authActions\";\nimport { withRouter } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport { Formik, Form, useField } from \"formik\";\n\nconst CustomField = ({ label, type, variant, ...props }) => {\n    const [field, meta] = useField(props);\n    const errorText = meta.error && meta.touched ? meta.error : \"\";\n    const classes = useStyles();\n    return (\n        <TextField\n            className={classes.root}\n            variant={variant}\n            label={label}\n            {...field}\n            helperText={errorText}\n            error={!!errorText}\n            type={type}\n        />\n    );\n};\n\nconst validationSchema = yup.object({\n    email: yup.string().email(\"Enter a valid Email\").required(),\n    password: yup.string().min(3, \"Too short :(\").required(),\n});\nfunction LoginForm(props) {\n    const classes = useStyles();\n    const handleSubmit = (email, password) => {\n        console.log(props);\n        const user = {\n            email: email,\n            password: password,\n        };\n        //props.history.push(\"/products\");\n        props.login(user);\n    };\n    return (\n        <div>\n            <p className={classes.welcome}>Welcome</p>\n            <div style={{ textAlign: \"center\", marginBottom: \"1.3rem\" }}>\n                <Typography variant=\"p\">Log in now to shop anything you want</Typography>\n            </div>\n            <Formik\n                initialValues={{ email: \"\", password: \"\" }}\n                onSubmit={(data, { setSubmitting }) => {\n                    setSubmitting(true);\n                    //! make async call here!!!!\n                    handleSubmit(data.email, data.password);\n                    setSubmitting(false);\n                }}\n                validationSchema={validationSchema}\n            >\n                {({ values, errors, isSubmitting }) => (\n                    <Form>\n                        <div>\n                            <CustomField label=\"Email\" variant=\"outlined\" name=\"email\" />\n                        </div>\n                        <div>\n                            <CustomField\n                                label=\"Password\"\n                                type=\"password\"\n                                variant=\"outlined\"\n                                name=\"password\"\n                            />\n                        </div>\n                        <div style={{ textAlign: \"center\", width: \"100%\", marginBottom: \"1rem\" }}>\n                            <Button\n                                disabled={isSubmitting}\n                                style={{\n                                    color: \"white\",\n                                    backgroundColor: \"black\",\n                                    width: \"100%\",\n                                }}\n                                type=\"submit\"\n                            >\n                                Log in\n                            </Button>\n                        </div>\n                    </Form>\n                )}\n            </Formik>\n        </div>\n    );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        login: (user) => dispatch(actions.login(user)),\n        logOut: () => dispatch(actions.logOut()),\n    };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(LoginForm));\n"]},"metadata":{},"sourceType":"module"}