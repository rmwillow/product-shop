{"ast":null,"code":"import axios from \"axios\";\nimport * as userConstants from \"../Constants/userConstants\";\nexport const auth = (email, password) => async dispatch => {\n  try {\n    dispatch({\n      type: userConstants.USER_AUTH_START\n    });\n    const authData = {\n      email,\n      password\n    };\n    await axios.post(`/api/v1/auth/login`, authData).then(resp => {\n      const authData = resp.data.authData;\n      const token = resp.data.token;\n      const userInfo = { ...authData,\n        token\n      };\n      localStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\n      dispatch({\n        type: userConstants.USER_AUTH_SUCCESS,\n        payload: userInfo\n      });\n    });\n  } catch (error) {\n    dispatch({\n      type: userConstants.USER_AUTH_FAIL,\n      payload: error.response && error.response.data.error ? error.response.data.error : error.message\n    });\n  }\n};\nexport const Logout = () => dispatch => {\n  localStorage.removeItem(\"userInfo\");\n  dispatch({\n    type: userConstants.RESET\n  });\n};","map":{"version":3,"sources":["/Users/rachelmcgrath/Desktop/projects/product-shop/client/src/Actions/userAction.js"],"names":["axios","userConstants","auth","email","password","dispatch","type","USER_AUTH_START","authData","post","then","resp","data","token","userInfo","localStorage","setItem","JSON","stringify","USER_AUTH_SUCCESS","payload","error","USER_AUTH_FAIL","response","message","Logout","removeItem","RESET"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,aAAZ,MAA+B,4BAA/B;AAEA,OAAO,MAAMC,IAAI,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,MAAOC,QAAP,IAAoB;AAC3D,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,aAAa,CAACM;AAAtB,KAAD,CAAR;AAEA,UAAMC,QAAQ,GAAG;AACfL,MAAAA,KADe;AAEfC,MAAAA;AAFe,KAAjB;AAKA,UAAMJ,KAAK,CAACS,IAAN,CAAY,oBAAZ,EAAiCD,QAAjC,EAA2CE,IAA3C,CAAiDC,IAAD,IAAU;AAC9D,YAAMH,QAAQ,GAAGG,IAAI,CAACC,IAAL,CAAUJ,QAA3B;AACA,YAAMK,KAAK,GAAGF,IAAI,CAACC,IAAL,CAAUC,KAAxB;AAEA,YAAMC,QAAQ,GAAG,EACf,GAAGN,QADY;AAEfK,QAAAA;AAFe,OAAjB;AAKAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAAjC;AACAT,MAAAA,QAAQ,CAAC;AACPC,QAAAA,IAAI,EAAEL,aAAa,CAACkB,iBADb;AAEPC,QAAAA,OAAO,EAAEN;AAFF,OAAD,CAAR;AAID,KAdK,CAAN;AAeD,GAvBD,CAuBE,OAAOO,KAAP,EAAc;AACdhB,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL,aAAa,CAACqB,cADb;AAEPF,MAAAA,OAAO,EACLC,KAAK,CAACE,QAAN,IAAkBF,KAAK,CAACE,QAAN,CAAeX,IAAf,CAAoBS,KAAtC,GACIA,KAAK,CAACE,QAAN,CAAeX,IAAf,CAAoBS,KADxB,GAEIA,KAAK,CAACG;AALL,KAAD,CAAR;AAOD;AACF,CAjCM;AAmCP,OAAO,MAAMC,MAAM,GAAE,MAAMpB,QAAD,IAAY;AAClCU,EAAAA,YAAY,CAACW,UAAb,CAAwB,UAAxB;AACArB,EAAAA,QAAQ,CAAC;AAACC,IAAAA,IAAI,EAACL,aAAa,CAAC0B;AAApB,GAAD,CAAR;AACD,CAHI","sourcesContent":["import axios from \"axios\";\nimport * as userConstants from \"../Constants/userConstants\";\n\nexport const auth = (email, password) => async (dispatch) => {\n  try {\n    dispatch({ type: userConstants.USER_AUTH_START });\n\n    const authData = {\n      email,\n      password,\n    };\n\n    await axios.post(`/api/v1/auth/login`, authData).then((resp) => {\n      const authData = resp.data.authData;\n      const token = resp.data.token;\n\n      const userInfo = {\n        ...authData,\n        token,\n      };\n\n      localStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\n      dispatch({\n        type: userConstants.USER_AUTH_SUCCESS,\n        payload: userInfo,\n      });\n    });\n  } catch (error) {\n    dispatch({\n      type: userConstants.USER_AUTH_FAIL,\n      payload:\n        error.response && error.response.data.error\n          ? error.response.data.error\n          : error.message,\n    });\n  }\n};\n\nexport const Logout =()=> (dispatch)=>{\n    localStorage.removeItem(\"userInfo\")\n    dispatch({type:userConstants.RESET}) \n  }"]},"metadata":{},"sourceType":"module"}